(function(){"use strict";var t={3323:function(t,o,s){var e=s(8935),n=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"app"},[s("MyHeader",{attrs:{title:"购物车案例",background:"pink",color:"green"}}),t._l(t.list,(function(t){return s("MyGoods",{key:t.id,attrs:{goods:t}})})),s("MyFooter",{attrs:{list:t.list}})],2)},r=[],i=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"my-header",style:{backgroundColor:t.background,color:t.color}},[t._v(" "+t._s(t.title)+" ")])},a=[],c={props:{background:String,color:{type:String,default:"pink"},title:{type:String,required:!0}}},l=c,u=s(1001),d=(0,u.Z)(l,i,a,!1,null,"27c03ff6",null),g=d.exports,p=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"my-goods-item"},[s("div",{staticClass:"left"},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.goods.goods_state,expression:"goods.goods_state"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:t.goods.goods_id},domProps:{checked:Array.isArray(t.goods.goods_state)?t._i(t.goods.goods_state,null)>-1:t.goods.goods_state},on:{change:function(o){var s=t.goods.goods_state,e=o.target,n=!!e.checked;if(Array.isArray(s)){var r=null,i=t._i(s,r);e.checked?i<0&&t.$set(t.goods,"goods_state",s.concat([r])):i>-1&&t.$set(t.goods,"goods_state",s.slice(0,i).concat(s.slice(i+1)))}else t.$set(t.goods,"goods_state",n)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:t.goods.goods_id}},[s("img",{attrs:{src:this.goods.goods_img,alt:""}})])])]),s("div",{staticClass:"right"},[s("div",{staticClass:"top"},[t._v(t._s(t.goods.goods_name))]),s("div",{staticClass:"bottom"},[s("span",{staticClass:"price"},[t._v("¥ "+t._s(t.goods.goods_price))]),s("span",[s("MyCount",{attrs:{goods:t.goods}})],1)])])])},f=[],v=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"my-counter"},[s("button",{staticClass:"btn btn-light",attrs:{type:"button",disabled:0==t.goods.goods_count},on:{click:function(o){t.goods.goods_count--}}},[t._v(" - ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.goods.goods_count,expression:"goods.goods_count"}],staticClass:"form-control inp",attrs:{type:"number"},domProps:{value:t.goods.goods_count},on:{input:function(o){o.target.composing||t.$set(t.goods,"goods_count",o.target.value)}}}),s("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(o){t.goods.goods_count++}}},[t._v(" + ")])])},_=[],m={props:{goods:{type:Object}}},h=m,b=(0,u.Z)(h,v,_,!1,null,"6e75d3dc",null),y=b.exports,C={props:{goods:{type:Object,required:!0}},components:{MyCount:y}},k=C,A=(0,u.Z)(k,p,f,!1,null,"202baa40",null),x=A.exports,w=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"my-footer"},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isAll,expression:"isAll"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"footerCheck"},domProps:{checked:Array.isArray(t.isAll)?t._i(t.isAll,null)>-1:t.isAll},on:{change:function(o){var s=t.isAll,e=o.target,n=!!e.checked;if(Array.isArray(s)){var r=null,i=t._i(s,r);e.checked?i<0&&(t.isAll=s.concat([r])):i>-1&&(t.isAll=s.slice(0,i).concat(s.slice(i+1)))}else t.isAll=n}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"footerCheck"}},[t._v("全选")])]),s("div",[s("span",[t._v("合计:")]),s("span",{staticClass:"price"},[t._v("¥"+t._s(t.allPrice))])]),s("button",{staticClass:"footer-btn btn btn-primary",attrs:{type:"button"}},[t._v(" 结算 ("+t._s(t.allCount)+") ")])])},O=[],$={props:{list:{}},computed:{isAll:{get(){return this.list.every((t=>t.goods_state))},set(t){this.list.forEach((o=>o.goods_state=t))}},allCount(){return this.list.reduce(((t,o)=>o.goods_state?t+=o.goods_count:t),0)},allPrice(){return this.list.reduce(((t,o)=>o.goods_state?t+=o.goods_count*o.goods_price:t),0)}}},M=$,j=(0,u.Z)(M,w,O,!1,null,"c9f0a5ee",null),E=j.exports,P=s(6166),Z=s.n(P),G={components:{MyHeader:g,MyGoods:x,MyFooter:E},data(){return{list:[]}},created(){this.getGoods()},methods:{async getGoods(){const t=await Z()({url:"/api/cart"});this.list=t.data.list}}},F=G,N=(0,u.Z)(F,n,r,!1,null,"b4fe8c3a",null),S=N.exports;Z().defaults.baseURL="https://applet-base-api-t.itheima.net",Z().defaults.timeout=3e3,e.Z.config.productionTip=!1,new e.Z({render:t=>t(S)}).$mount("#app")}},o={};function s(e){var n=o[e];if(void 0!==n)return n.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(o,e,n,r){if(!e){var i=1/0;for(u=0;u<t.length;u++){e=t[u][0],n=t[u][1],r=t[u][2];for(var a=!0,c=0;c<e.length;c++)(!1&r||i>=r)&&Object.keys(s.O).every((function(t){return s.O[t](e[c])}))?e.splice(c--,1):(a=!1,r<i&&(i=r));if(a){t.splice(u--,1);var l=n();void 0!==l&&(o=l)}}return o}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[e,n,r]}}(),function(){s.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(o,{a:o}),o}}(),function(){s.d=function(t,o){for(var e in o)s.o(o,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){var t={143:0};s.O.j=function(o){return 0===t[o]};var o=function(o,e){var n,r,i=e[0],a=e[1],c=e[2],l=0;if(i.some((function(o){return 0!==t[o]}))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(c)var u=c(s)}for(o&&o(e);l<i.length;l++)r=i[l],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(u)},e=self["webpackChunkdemo"]=self["webpackChunkdemo"]||[];e.forEach(o.bind(null,0)),e.push=o.bind(null,e.push.bind(e))}();var e=s.O(void 0,[998],(function(){return s(3323)}));e=s.O(e)})();
//# sourceMappingURL=app.871bd1b4.js.map